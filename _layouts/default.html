<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

{% seo %}
    <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" href="{{ "/assets/css/custom.css" | relative_url }}">
    {% include head_custom.html %}
  </head>
  <body>
    <!-- Header com gradiente moderno -->
    <header class="page-header" role="banner">
      <div class="header-content">
        <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
        <h2 class="project-tagline">{{ page.description | default: site.description | default: site.github.project_tagline }}</h2>
      </div>
      <!-- Menu hambúrguer para mobile -->
      <button class="sidebar-toggle" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </header>

    <div class="main-wrapper">
      <!-- Sidebar navigation com design moderno -->
      <div class="sidebar">
        <div class="sidebar-content">
          {% if site.sidebar %}
            <ul class="sidebar-nav">
              {% for item in site.sidebar %}
                <li class="sidebar-item {% if page.url == item.url %}active{% endif %}">
                  <a href="{{ item.url | relative_url }}" class="sidebar-link">{{ item.title }}</a>
                  {% if item.children %}
                    <ul class="sidebar-subnav">
                      {% for child in item.children %}
                        <li class="sidebar-subitem {% if page.url == child.url %}active{% endif %}">
                          <a href="{{ child.url | relative_url }}" class="sidebar-sublink">{{ child.title }}</a>
                        </li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                </li>
              {% endfor %}
            </ul>
          {% endif %}

          <!-- Links auxiliares -->
          {% if site.aux_links %}
          <div class="aux-nav">
            <ul class="aux-nav-list">
              {% for link in site.aux_links %}
                <li class="aux-nav-item">
                  <a href="{{ link[1] }}" class="aux-nav-link">{{ link[0] }}</a>
                </li>
              {% endfor %}
            </ul>
          </div>
          {% endif %}
        </div>
      </div>

      <!-- Main content -->
      <main id="content" class="main-content" role="main">
        {{ content }}

        <!-- Footer personalizado -->
        {% include footer_custom.html %}
      </main>
    </div>
    
    <!-- Scripts -->
    <script>
      // Toggle para sidebar em dispositivos móveis
      document.addEventListener("DOMContentLoaded", function() {
        const sidebarToggle = document.querySelector('.sidebar-toggle');
        if (sidebarToggle) {
          sidebarToggle.addEventListener('click', function() {
            document.body.classList.toggle('sidebar-open');
          });
        }
        
        // Expandir submenus ativos
        const activeSubitem = document.querySelector('.sidebar-subitem.active');
        if (activeSubitem) {
          const parentItem = activeSubitem.closest('.sidebar-item');
          if (parentItem) {
            parentItem.classList.add('expanded');
          }
        }
        
        // Toggle para submenus
        const itemsWithChildren = document.querySelectorAll('.sidebar-item:has(.sidebar-subnav)');
        itemsWithChildren.forEach(item => {
          const link = item.querySelector('.sidebar-link');
          link.addEventListener('click', function(e) {
            if (link.getAttribute('href') === '#') {
              e.preventDefault();
              item.classList.toggle('expanded');
            }
          });
        });
      });
    </script>
  </body>
</html>
